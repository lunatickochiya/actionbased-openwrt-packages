diff --git a/dapnet-gateway/Makefile b/dapnet-gateway/Makefile
index c6b845995..ccf239b99 100644
--- a/dapnet-gateway/Makefile
+++ b/dapnet-gateway/Makefile
@@ -6,15 +6,15 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=dapnet-gateway
-PKG_REV:=631297e
+PKG_REV:=475c802
 PKG_VERSION:=1.3.0
 PKG_RELEASE:=13
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.bz2
-PKG_SOURCE_URL:=https://github.com/lazywalker/DAPNETGateway.git
+PKG_SOURCE_URL:=https://github.com/g4klx/DAPNETGateway.git
 PKG_MIRROR_HASH:=skip
 PKG_SOURCE_SUBDIR:=$(PKG_NAME)-$(PKG_VERSION)
-PKG_SOURCE_VERSION:=631297ece7f9596755434f1bb2a8a11772a5e922
+PKG_SOURCE_VERSION:=475c8023ecfe64f94f5ce96c1208ec96a619894b
 PKG_SOURCE_PROTO:=git
 PKG_LICENSE:=GPL-2.0
 PKG_MAINTAINER:=Michael BD7MQB <bd7mqb@qq.com>
@@ -59,4 +59,4 @@ endef
 # exit 0
 # endef
 
-$(eval $(call BuildPackage,${PKG_NAME}))
\ No newline at end of file
+$(eval $(call BuildPackage,${PKG_NAME}))
diff --git a/dapnet-gateway/patches/001-log-localtime.patch b/dapnet-gateway/patches/001-log-localtime.patch
index afb6b68a8..41d8bca94 100644
--- a/dapnet-gateway/patches/001-log-localtime.patch
+++ b/dapnet-gateway/patches/001-log-localtime.patch
@@ -1,7 +1,6 @@
-diff --git a/Log.cpp b/Log.cpp
 --- a/Log.cpp
 +++ b/Log.cpp
-@@ -51,7 +51,7 @@ static bool LogOpen()
+@@ -56,7 +56,7 @@ static bool logOpenRotate()
  	time_t now;
  	::time(&now);
  
@@ -9,13 +8,13 @@ diff --git a/Log.cpp b/Log.cpp
 +	struct tm* tm = ::localtime(&now);
  
  	if (tm->tm_mday == m_tm.tm_mday && tm->tm_mon == m_tm.tm_mon && tm->tm_year == m_tm.tm_year) {
- 		if (m_fpLog != NULL)
-@@ -103,7 +103,7 @@ void Log(unsigned int level, const char* fmt, ...)
+ 		if (m_fpLog != nullptr)
+@@ -159,7 +159,7 @@ void Log(unsigned int level, const char*
  	struct timeval now;
- 	::gettimeofday(&now, NULL);
+ 	::gettimeofday(&now, nullptr);
  
 -	struct tm* tm = ::gmtime(&now.tv_sec);
 +	struct tm* tm = ::localtime(&now.tv_sec);
  
- 	::sprintf(buffer, "%c: %04d-%02d-%02d %02d:%02d:%02d.%03lu ", LEVELS[level], tm->tm_year + 1900, tm->tm_mon + 1, tm->tm_mday, tm->tm_hour, tm->tm_min, tm->tm_sec, now.tv_usec / 1000U);
+ 	::sprintf(buffer, "%c: %04d-%02d-%02d %02d:%02d:%02d.%03lld ", LEVELS[level], tm->tm_year + 1900, tm->tm_mon + 1, tm->tm_mday, tm->tm_hour, tm->tm_min, tm->tm_sec, now.tv_usec / 1000LL);
  #endif
